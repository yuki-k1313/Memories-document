# API 기능 세부
  
## - Auth

### 로그인 (sign-in)
  
- 클라이언트로부터 요청 (클라이언트가 userId, userPassword를 포함하여)
1. 클라이언트가 전송한 userId, userPassword 데이터가 유효한 데이터인지 확인  
    1.1 만약 유효한 데이터가 아니라면 'VF' 응답 처리
2. 데이터베이스의 user 테이블에서 userId에 해당하는 유저 레코드를 조회  
    2.1 만약 유저레코드가 존재하지 않으면 'SF' 응답 처리  
    2.2 만약 데이터베이스 작업 중 에러가 발생하면 'DBE' 응답 처리
3. 유저 레코드의 userPassword와 사용자가 입력한 userPassword가 일치하는지 확인  
    3.1 만약 비밀번호가 서로 일치하지 않으면 'SF' 응답 처리
4. JWT로 된 accessToken 생성
5. 'SU' 응답 처리  
    5.1반환할 데이터 - accessToken: 클라이언트가 다음 요청부터 사용할 토큰, expiration: 반환해주는 토큰의 사용기간 (초단위)

### 아이디 중복 확인 (id-check)

- 클라이언트로부터 요청  (userId를 포함하여)
1. 클라이언트가 전송한 userId 데이터가 유효한 데이터인지 확인  
    1.1 만약 유효하지 않은 데이터이면 'VF' 응답 처리
2. 데이터베이스 user 테이블에서 userId에 해당하는 유저 레코드가 존재하는지 조회  
    2.1 만약 유저 레코드가 존재한다면 'EU' 응답 처리  
    2.2 만약 데이터베이스 작업 중 에러가 발생하면 'DBE' 응답 처리
3. 'SU' 응답 처리

### 회원가입 (sign-up)

- 클라이언트로부터 요청 (name, userId, userPassword, address, detailAddress, joinType)
1. 클라이언트가 전송한 데이터가 유효한 데이터인지 확인  
    1.1 만약 유효하지 않은 데이터이면 'VF' 응답 처리  
2. 데이터베이스의 user 테이블에서 userId에 해당하는 유저 레코드가 존재하는지 조회  
    2.1 만약 유저 레코드가 존재한다면 'EU' 응답 처리  
    2.2 만약 데이터베이스 작업 중 에러가 발생하면 'DBE' 응답 처리  
3. 클라이언트가 전송한 평문의 userPassword를 암호화
4. 클라이언트가 전송한 데이터와 암호화된 userPassword로 user 테이블에 레코드 삽입  
    4.1 만약 데이터베이스 작업 중 에러가 발생하면 'DBE' 응답 처리
5. 'SU' 응답 처리  